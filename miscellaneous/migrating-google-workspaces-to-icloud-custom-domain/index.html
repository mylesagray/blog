<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Migrating from Google Workspaces to iCloud+ | Blah, Cloud</title><meta name=keywords content="email,gmail,icloud,migration"><meta name=description content="Google recently accounced that it was getting rid of the legacy free tier for Google Apps/Workspace accounts, something I've used for 10+ years, and I don't care for that. I already pay for iCloud+ and it allows custom domains, so let the migration begin!"><meta name=author content="Myles Gray"><link rel=canonical href=https://blah.cloud/miscellaneous/migrating-google-workspaces-to-icloud-custom-domain/><link crossorigin=anonymous href=/assets/css/stylesheet.min.b1da2895238dfeedf27f032004268905e3f3ba403dec0ceb07be46cce8ac5b96.css integrity="sha256-sdoolSON/u3yfwMgBCaJBePzukA97AzrB75GzOisW5Y=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/scroll-toc.min.bfd735cdd51496ccc1b6e2b9ee549a1cfa21f9b48d33306d7a7edc1be76ffbbb.js integrity="sha256-v9c1zdUUlszBtuK57lSaHPoh+bSNMzBten7cG+dv+7s="></script>
<link rel=icon href=https://blah.cloud/images/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://blah.cloud/images/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://blah.cloud/images/favicon-32x32.png><link rel=apple-touch-icon href=https://blah.cloud/images/apple-touch-icon.png><link rel=mask-icon href=https://blah.cloud/images/logo.png><meta name=theme-color media="(prefers-color-scheme: dark)" content="rgba(88, 89, 91, 1)"><meta name=theme-color content="rgba(240, 202, 102, 1)"><meta name=msapplication-TileColor content="rgba(240, 202, 102, 1)"><meta name=generator content="Hugo 0.100.2"><meta property="og:title" content="Migrating from Google Workspaces to iCloud+"><meta property="og:description" content="Google recently accounced that it was getting rid of the legacy free tier for Google Apps/Workspace accounts, something I've used for 10+ years, and I don't care for that. I already pay for iCloud+ and it allows custom domains, so let the migration begin!"><meta property="og:type" content="article"><meta property="og:url" content="https://blah.cloud/miscellaneous/migrating-google-workspaces-to-icloud-custom-domain/"><meta property="og:image" content="https://blah.cloud/miscellaneous/migrating-google-workspaces-to-icloud-custom-domain/images/og-card.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-01-25T17:00:00+00:00"><meta property="article:modified_time" content="2022-01-25T17:00:00+00:00"><meta property="og:site_name" content="Blah, Cloud"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://blah.cloud/miscellaneous/migrating-google-workspaces-to-icloud-custom-domain/images/og-card.png"><meta name=twitter:title content="Migrating from Google Workspaces to iCloud+"><meta name=twitter:description content="Google recently accounced that it was getting rid of the legacy free tier for Google Apps/Workspace accounts, something I've used for 10+ years, and I don't care for that. I already pay for iCloud+ and it allows custom domains, so let the migration begin!"><meta name=twitter:site content="@mylesagray"><meta name=twitter:creator content="@mylesagray"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Migrating from Google Workspaces to iCloud+","item":"https://blah.cloud/miscellaneous/migrating-google-workspaces-to-icloud-custom-domain/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Migrating from Google Workspaces to iCloud+","name":"Migrating from Google Workspaces to iCloud\u002b","description":"Google recently accounced that it was getting rid of the legacy free tier for Google Apps/Workspace accounts, something I've used for 10+ years, and I don't care for that. I already pay for iCloud+ and it allows custom domains, so let the migration begin!","keywords":["email","gmail","icloud","migration"],"wordCount":"1337","inLanguage":"en","image":"https://blah.cloud/miscellaneous/migrating-google-workspaces-to-icloud-custom-domain/images/imapsync.png","datePublished":"2022-01-25T17:00:00Z","dateModified":"2022-01-25T17:00:00Z","author":{"@type":"Person","name":"Myles Gray","url":"https:\/\/blah.cloud\/about"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://blah.cloud/miscellaneous/migrating-google-workspaces-to-icloud-custom-domain/"},"copyrightHolder":"Myles Gray","copyrightYear":"2022","isFamilyFriendly":"true","publisher":{"@type":"Person","name":"Myles Gray","logo":{"@type":"ImageObject","url":"https://blah.cloud/images/me.jpg"}}}</script><script defer data-domain=blah.cloud data-api=/backend/api/event src=/backend/js/script.outbound-links.js></script>
<script>window.plausible=window.plausible||function(){(window.plausible.q=window.plausible.q||[]).push(arguments)}</script></head><body id=top><script>window.matchMedia&&window.matchMedia('(prefers-color-scheme: dark)').matches?(document.body.classList.add('dark'),document.body.classList.remove('light')):(document.body.classList.remove('dark'),document.body.classList.add('light'));const darkModeMediaQuery=window.matchMedia('(prefers-color-scheme: dark)');darkModeMediaQuery.addListener(e=>{const t=e.matches;t?(document.body.classList.add('dark'),document.body.classList.remove('light')):(document.body.classList.remove('dark'),document.body.classList.add('light'))})</script><noscript><style type=text/css>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:#1d1e20;--entry:#2e2e33;--primary:rgba(240, 202, 102, 1);--secondary:rgba(216, 214, 197, 1);--tertiary:rgb(75, 75, 75);--content:rgba(206, 205, 188, 1);--hljs-bg:#282a36;--code-bg:#282a36;--border:rgba(240, 202, 102, 1);--highlight:rgba(88, 89, 91, 1)}.list{background:var(--theme)}}</style></noscript><header class=header><nav class=nav><div class=logo><a href=https://blah.cloud/ accesskey=h title="Blah, Cloud. (Alt + H)"><picture><source media="(min-width: 768px)" srcset=/images/logo-title.avif type=image/avif alt=logo width=245 height=34><source media="(min-width: 768px)" srcset=/images/logo-title.webp type=image/webp alt=logo width=245 height=34><source media="(min-width: 768px)" srcset=/images/logo-title.png type=image/png alt=logo width=245 height=34><source srcset=/images/logo.avif type=image/avif alt=logo width=65 height=65><source srcset=/images/logo.webp type=image/webp alt=logo width=65 height=65><img class=logo src=/images/logo-title.png alt=logo aria-label=logo width=245 height=34></picture></a></div><span class=logo-switches></span><span class=hamburger><button id=hamburger-toggle accesskey=m title="(Alt + M)"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="28" viewBox="0 0 24 28"><path d="M24 21v2c0 .547-.453 1-1 1H1c-.547.0-1-.453-1-1v-2c0-.547.453-1 1-1h22c.547.0 1 .453 1 1zm0-8v2c0 .547-.453 1-1 1H1c-.547.0-1-.453-1-1v-2c0-.547.453-1 1-1h22c.547.0 1 .453 1 1zm0-8v2c0 .547-.453 1-1 1H1c-.547.0-1-.453-1-1V5c0-.547.453-1 1-1h22c.547.0 1 .453 1 1z"/></svg></button></span><ul id=menu><li><a href=https://blah.cloud/now/ title=now><span>now</span></a></li><li><a href=https://blah.cloud/blog/ title=blog><span>blog</span></a></li><li><a href=https://blah.cloud/bio/ title=bio><span>bio</span></a></li><li><a href=https://blah.cloud/works/ title=works><span>works</span></a></li><li><a href=https://blah.cloud/search/ title=" (Alt + /)" accesskey=/><span><svg style="height:1em" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="fill-current w-5" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M505 442.7 405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9.0 208 0S0 93.1.0 208s93.1 208 208 208c48.3.0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9.0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7.0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7.0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg></span></a></li></ul></nav></header><div class=container><main class=main><div class=wrapper><article class=post-single><header class=post-header><h1 class=post-title>Migrating from Google Workspaces to iCloud+</h1><div class=post-description>Google recently accounced that it was getting rid of the legacy free tier for Google Apps/Workspace accounts, something I've used for 10+ years, and I don't care for that. I already pay for iCloud+ and it allows custom domains, so let the migration begin!</div><div class=post-meta><span title='2022-01-25 17:00:00 +0000 UTC'>January 25, 2022</span>&nbsp;·&nbsp;Myles Gray&nbsp;|&nbsp;<a href=https://github.com/mylesagray/blog/blob/master/content/posts/2022-01-15-migrating-from-gmail-to-icloud/index.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><figure class=entry-cover><img srcset="https://blah.cloud/miscellaneous/migrating-google-workspaces-to-icloud-custom-domain/images/imapsync_hu9f9230d16cbf1423c6de0d5087bddb3c_288072_360x0_resize_box_3.png 360w ,https://blah.cloud/miscellaneous/migrating-google-workspaces-to-icloud-custom-domain/images/imapsync_hu9f9230d16cbf1423c6de0d5087bddb3c_288072_480x0_resize_box_3.png 480w ,https://blah.cloud/miscellaneous/migrating-google-workspaces-to-icloud-custom-domain/images/imapsync_hu9f9230d16cbf1423c6de0d5087bddb3c_288072_720x0_resize_box_3.png 720w ,https://blah.cloud/miscellaneous/migrating-google-workspaces-to-icloud-custom-domain/images/imapsync.png 740w" sizes="(min-width: 768px) 720px, 100vw" src=https://blah.cloud/miscellaneous/migrating-google-workspaces-to-icloud-custom-domain/images/imapsync.png alt="imapsync output from mail account crawl" width=740 height=672></figure><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#introduction aria-label=Introduction>Introduction</a></li><li><a href=#the-tooling aria-label="The Tooling">The Tooling</a></li><li><a href=#the-process aria-label="The Process">The Process</a><ul><li><a href=#account-setup aria-label="Account Setup">Account Setup</a></li><li><a href=#setup-email-forwarding aria-label="Setup Email Forwarding">Setup Email Forwarding</a></li><li><a href=#running-imapsync aria-label="Running imapsync">Running <code>imapsync</code></a></li><li><a href=#flipping-dns aria-label="Flipping DNS">Flipping DNS</a></li></ul></li><li><a href=#wrap-up aria-label="Wrap Up">Wrap Up</a></li></ul></div></details></div><div class=post-content><h2 id=introduction>Introduction<a hidden class=anchor aria-hidden=true href=#introduction>#</a></h2><p>Google recently accounced that it was <a href="https://support.google.com/a/answer/2855120?hl=en" target=_blank>getting rid of the legacy free tier ↗</a> for Google Apps/Workspace accounts, a service I&rsquo;ve used for 10+ years. I don&rsquo;t appreciate it when free tiers (of anything) get switched into paid tiers by holding your data ransom through inconvenience of migration, so I started looking at alternatives.</p><p>I am heavily embedded in the Apple ecosystem, my phone, tablets, laptops, home automation system, everything really lives within the walled garden to some extent - for better or worse. I already pay for iCloud+ and I leared recently <a href=https://support.apple.com/en-gb/guide/icloud/mma473945269/icloud target=_blank>it allows custom domains ↗</a>, and as pointed out by <a href="https://twitter.com/sammcgeown/status/1484215920520318981?s=20" target=_blank>Sam here ↗</a> the old <code>+</code> trick in an email address still works with iCloud as well, so why not give it a shot?</p><p>There are a few things to be aware of here, you can indeed pull all your emails from Gmail and put them manually into folders in a mail client - but who wants to do that? So we can automate it - but at the end, you want to cancel the Google Workspaces subscription, which means all those paid services go away, so make sure all of your emails, calendars, drive contents, etc are backed up or moved before you do.</p><p>Additionally, as far as I can tell there is no way to delete all of the services associated with your Google Workspaces account without deleting the entire account - meaning all those logins you&rsquo;ve created with that Google account are lost if you want to go that far - personally, I have been wanting to reduce my reliance on Google&rsquo;s SSO for some time now, so I may look at doing that in the near future as well.</p><h2 id=the-tooling>The Tooling<a hidden class=anchor aria-hidden=true href=#the-tooling>#</a></h2><p>There are a number of ways of migrating emails from Gmail to iCloud, but most involve a client mail app for download and upload and rely on manual mapping of folders amongst other things. I wanted a headless service that I could plug in credentials and have it do the work for me, so I decided upon <a href=https://github.com/imapsync/imapsync target=_blank>imapsync ↗</a> which is a long esablished tool dating from the 90&rsquo;s and is still actively maintained.</p><p>Personally, I like to run things inside docker, just for cleanliness - and there is indeed an official <code>imapsync</code> <a href=https://hub.docker.com/r/gilleslamiral/imapsync target=_blank>Docker container ↗</a>, and helpfully it takes the exact same commands as the binary release for input.</p><p>Additionally, you need a little more work to make the switch - if you use 2FA everywhere (and you do, right?) then you&rsquo;ll need an app-specific password for <a href=https://myaccount.google.com/apppasswords target=_blank>Google ↗</a> and for <a href=https://support.apple.com/en-gb/HT204397 target=_blank>Apple ↗</a> for <code>imapsync</code> to do the business.</p><p>We&rsquo;ll also need our DNS provider details in order to switch over the MX, TXT and any DKIM/DMARC records you might have from Google to iCloud as well.</p><h2 id=the-process>The Process<a hidden class=anchor aria-hidden=true href=#the-process>#</a></h2><h3 id=account-setup>Account Setup<a hidden class=anchor aria-hidden=true href=#account-setup>#</a></h3><p>First up, you need to create an iCloud account and email if you don&rsquo;t already have one - I did, but in the off chance you dont, then go ahead and create one. This is the account that we will attach our custom domains to (I had three domains, and accounts I was migrating to a single mailbox).</p><p>Run through the <a href=https://support.apple.com/en-gb/guide/icloud/mma473945269/icloud target=_blank>iCloud custom domain setup ↗</a> process to add and verify your target domain, up to step 2 - we need to keep the DNS records in-tact until we have completed our migration.</p><h3 id=setup-email-forwarding>Setup Email Forwarding<a hidden class=anchor aria-hidden=true href=#setup-email-forwarding>#</a></h3><p>Not strictly neccessary, but I set up <a href="https://support.google.com/mail/answer/10957?hl=en#zippy=%2Cturn-automatic-fowarding-on-or-off" target=_blank>email forwarding ↗</a> on my target Gmail account to the iCloud acccount&rsquo;s address - <code>imapsync</code> will make sure to dedupe anything, and can actually be run multiple times to make up for deltas - but the forwarding means that you can make a single pass with <code>imapsync</code> and then flip your MX records and lose no emails.</p><h3 id=running-imapsync>Running <code>imapsync</code><a hidden class=anchor aria-hidden=true href=#running-imapsync>#</a></h3><p>I chose to run the <code>imapsync</code> container in daemon mode on a NAS that I have running, just so it could run for days (and it will take days) without having to leave my computer on the whole time or worry about SSH sessions, etc timing out.</p><p><code>imapsync</code> has a number for parameters specifically for some email providers, like <code>--gmail1</code> and <code>--gmail2</code> which are essentially composites of a whole bunch of other parameters but optimised to work with that particular service - as an example, to ensure you don&rsquo;t hit Gmail&rsquo;s rate limiting, to do folder mapping and set headers it automatically enables the following switches:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>--host1 imap.gmail.com <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--ssl1 <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--host2 imap.gmail.com <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--ssl2 <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--maxbytespersecond 20_000 <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--maxbytesafter 1_000_000_000 <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--automap <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--maxsleep <span class=m>2</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--useheader X-Gmail-Received --useheader Message-Id <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--synclabels <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--resynclabels <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--exclude <span class=s2>&#34;\[Gmail\]</span>$<span class=s2>&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--folderlast  <span class=s2>&#34;[Gmail]/All Mail&#34;</span>
</span></span></code></pre></div><p>That greatly simplifies the config we need to use. iCloud doesn&rsquo;t have any such composite in <code>imapsync</code> so we have to manually specify that we want SSL and the IMAP server name, aside from that it seems to work great out of the box.</p><p>I recommend running the command with the <code>--justlogin</code> flag to ensure everything is working before we commit to the actual copy job:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>docker run gilleslamiral/imapsync imapsync --justlogin --errorsmax <span class=m>200</span> --user1 <span class=o>{</span>gmail-email-address<span class=o>}</span> --password1 <span class=o>{</span>app-specific-password-for-gmail<span class=o>}</span> --host2 imap.mail.me.com --ssl2 --user2 <span class=o>{</span>icloud-email-address<span class=o>}</span> --password2 <span class=o>{</span>app-specific-password-for-icloud<span class=o>}</span> --gmail1
</span></span></code></pre></div><p>The command I used in the end looked like this:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>docker run gilleslamiral/imapsync imapsync --errorsmax <span class=m>200</span> --user1 <span class=o>{</span>gmail-email-address<span class=o>}</span> --password1 <span class=o>{</span>app-specific-password-for-gmail<span class=o>}</span> --host2 imap.mail.me.com --ssl2 --user2 <span class=o>{</span>icloud-email-address<span class=o>}</span> --password2 <span class=o>{</span>app-specific-password-for-icloud<span class=o>}</span> --gmail1
</span></span></code></pre></div><p>You&rsquo;ll notice a few things there, we specify <code>--errorsmax 200</code> as I found when syncing &ldquo;Chats&rdquo; it would error out, and I dont care about them - so I ignored the errors. We also specify <code>--gmail1</code> to ensure we&rsquo;re using the <code>gmail</code> composite set of commands as in the above example to make sure we don&rsquo;t get rate limited, etc.</p><p>It&rsquo;s all working if you see the below in the output:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>Host1: success login on <span class=o>[</span>imap.gmail.com<span class=o>]</span> with user <span class=o>[</span>email@your-google-domain.com<span class=o>]</span> auth <span class=o>[</span>LOGIN<span class=o>]</span> or <span class=o>[</span>LOGIN<span class=o>]</span>
</span></span><span class=line><span class=cl>Host2: success login on <span class=o>[</span>imap.mail.me.com<span class=o>]</span> with user <span class=o>[</span>your-email-here@icloud.com<span class=o>]</span> auth <span class=o>[</span>LOGIN<span class=o>]</span> or <span class=o>[</span>LOGIN<span class=o>]</span>
</span></span><span class=line><span class=cl>Host1: state Authenticated
</span></span><span class=line><span class=cl>Host2: state Authenticated
</span></span></code></pre></div><p>And now, you wait - for me this took about three days to do 150k emails at about 12GB total size, due to the rate limiting - so around 1 email per second, or so - so strap in. When it&rsquo;s all done, you can run it again, or if you set up email forwarding from Gmail earlier, you can just run it once and it&rsquo;ll do the job.</p><h3 id=flipping-dns>Flipping DNS<a hidden class=anchor aria-hidden=true href=#flipping-dns>#</a></h3><p>With all of your emails synced, you can now change the MX, CNAME for DKIM and TXT records for SPF and verification on your domain to point to the addresses that Apple will have emailed to you as part of your iCloud Custom Domain verification process.</p><p>Apple have a <a href=https://support.apple.com/en-gb/HT212524 target=_blank>nice process document ↗</a> for this, and it varies by DNS provider - so I won&rsquo;t replicate it here.</p><p>One thing I will mention, however, is that they don&rsquo;t call out DMARC records - But I can confirm that they do indeed work, I use CloudFlare for my DNS zone hosting and they have a great DMARC record wizard, but the TL;DR is this:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-txt data-lang=txt><span class=line><span class=cl>Type   |   Name   |         Value         |   TTL
</span></span><span class=line><span class=cl>TXT    |  _dmarc  |  v=DMARC1; p=reject;  |  Auto
</span></span></code></pre></div><p>If you want the receiving side to instead mark any unauthenticated email as spam, change the value to <code>p=quarantine;</code>.</p><h2 id=wrap-up>Wrap Up<a hidden class=anchor aria-hidden=true href=#wrap-up>#</a></h2><p>At this stage, your old emails are all inside iCloud, and new emails can be sent and received from your custom domain. The next step would be to transfer your calendars, contacts and notes (as they&rsquo;re not stored in IMAP) using <a href=https://takeout.google.com/ target=_blank>Google Takeout ↗</a> and <a href=https://www.reddit.com/r/gsuite/comments/sa2skz/exiting_gsuite_gapps_free_tier_my_story_so_far/ target=_blank>import them into your new service ↗</a> - for me, just iCloud again.</p><p>Finally cancel your workspace subscription (which will immediately revoke access to paid for services).</p><p>An extra optional step as I mentioned at the very start is to delete all the services, be deleting the workspace, which means you lose access to the account, that&rsquo;s a bit of a mess - so i&rsquo;m going to leave it for another day.</p><p>For more like this, why not <a href=https://twitter.com/mylesagray target=_blank>follow Myles on Twitter ↗</a>?</p></div><footer class=post-footer><section class="section post-tags"><div class=content><h2>Tagged with</h2></div><ul class=post-tags><li><a href=https://blah.cloud/tags/email/>email</a></li><li><a href=https://blah.cloud/tags/gmail/>gmail</a></li><li><a href=https://blah.cloud/tags/icloud/>icloud</a></li><li><a href=https://blah.cloud/tags/migration/>migration</a></li></ul></section><nav class=paginav><a class=next href=https://blah.cloud/miscellaneous/new-blog-who-dis/><span class=title>Next Page »</span><br><span>New Blog, Who Dis?</span></a></nav><section class="section related-links"><div class="columns is-centered"><div class="column max-800px"><div class=content><h2>Related content</h2></div><div class="columns related-links-columns"><div class="column is-one-third"><div class=card><div class=card-image><figure class="image is-3by2"><a href=/infrastructure/customer-partner-vendor/><picture><img src=/infrastructure/customer-partner-vendor/images/CNvYkfJUEAEwlBb_hu04a036f60a5f5e8235bb108346f029a8_39060_240x0_resize_q75_h2_box_2.webp alt loading=lazy decoding=async></picture></a></figure></div><div class=card-content><a class="title is-5" href=https://blah.cloud/infrastructure/customer-partner-vendor/>Customer, Partner, Vendor.</a></div></div></div><div class="column is-one-third"><div class=card><div class=card-image><figure class="image is-3by2"><a href=/miscellaneous/new-blog-who-dis/><picture><img src=/miscellaneous/new-blog-who-dis/images/cover_hu706864854b82b6a2fdfd3bdb2db3d688_7848_240x0_resize_q75_h2_box_2.webp alt="Blah, Cloud - Now with more Hugo" loading=lazy decoding=async></picture></a></figure></div><div class=card-content><a class="title is-5" href=https://blah.cloud/miscellaneous/new-blog-who-dis/>New Blog, Who Dis?</a></div></div></div></div></div></div></section><section class="section share-icons"><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share Migrating from Google Workspaces to iCloud+ on twitter" href="https://twitter.com/intent/tweet/?text=Migrating%20from%20Google%20Workspaces%20to%20iCloud%2b&url=https%3a%2f%2fblah.cloud%2fmiscellaneous%2fmigrating-google-workspaces-to-icloud-custom-domain%2f&hashtags=email%2cgmail%2cicloud%2cmigration"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Migrating from Google Workspaces to iCloud+ on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fblah.cloud%2fmiscellaneous%2fmigrating-google-workspaces-to-icloud-custom-domain%2f&title=Migrating%20from%20Google%20Workspaces%20to%20iCloud%2b"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Migrating from Google Workspaces to iCloud+ on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fblah.cloud%2fmiscellaneous%2fmigrating-google-workspaces-to-icloud-custom-domain%2f&title=Migrating%20from%20Google%20Workspaces%20to%20iCloud%2b&summary=Migrating%20from%20Google%20Workspaces%20to%20iCloud%2b&source=https%3a%2f%2fblah.cloud%2fmiscellaneous%2fmigrating-google-workspaces-to-icloud-custom-domain%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></div></section></footer><script src=https://utteranc.es/client.js repo=mylesagray/blog-comments issue-term=title theme=preferred-color-scheme crossorigin=anonymous async></script></article><aside class="hidden lg:block tableOfContentContainer" id=tableOfContentContainer><nav id=TableOfContents><ul><li><a href=#introduction>Introduction</a></li><li><a href=#the-tooling>The Tooling</a></li><li><a href=#the-process>The Process</a><ul><li><a href=#account-setup>Account Setup</a></li><li><a href=#setup-email-forwarding>Setup Email Forwarding</a></li><li><a href=#running-imapsync>Running <code>imapsync</code></a></li><li><a href=#flipping-dns>Flipping DNS</a></li></ul></li><li><a href=#wrap-up>Wrap Up</a></li></ul></nav></aside></div></main></div><footer class=footer><span>&copy; 2022 <a href=https://blah.cloud/>Blah, Cloud</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/JPbaU rel=noopener target=_blank>BurgerMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById('menu');menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(t){t.preventDefault();var e=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView({behavior:"smooth"}),e==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${e}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.querySelectorAll('pre > code').forEach(t=>{const n=t.parentNode.parentNode,e=document.createElement('button');e.classList.add('copy-code'),e.innerText='copy';function s(){e.innerText='copied!',setTimeout(()=>{e.innerText='copy'},2e3)}e.addEventListener('click',o=>{if('clipboard'in navigator){navigator.clipboard.writeText(t.textContent),s();return}const e=document.createRange();e.selectNodeContents(t);const n=window.getSelection();n.removeAllRanges(),n.addRange(e);try{document.execCommand('copy'),s()}catch(e){}n.removeRange(e)}),n.classList.contains("highlight")?n.appendChild(e):n.parentNode.firstChild==n||(t.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?t.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(e):t.parentNode.appendChild(e))})</script></body></html>